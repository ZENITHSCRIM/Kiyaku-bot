<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>サービス内容</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            text-align: center;
            padding: 20px;
        }
        .status-box {
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 10px;
            width: 300px;
            margin: 0 auto;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .status-box h2 {
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .status-box p {
            font-size: 18px;
            color: #34495e;
        }
        .online {
            color: #2ecc71;
        }
        .offline {
            color: #e74c3c;
        }
        .updating {
            color: #e74c3c; /* 赤文字 */
            font-weight: bold; /* 太字 */
        }
        input, button {
            padding: 10px;
            margin: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>

    <div class="status-box">
        <h2>Zenith scrim bot status</h2>
        
        <!-- ステータス表示部分 -->
        <p id="status-display">ステータス: サービス停止予定</p>
        <section class="maintenance-notice">
  <h2>【重要】Discord Bot 一時サービス停止のお知らせ</h2>
  <p><strong>掲載日：</strong>2025年4月14日</p>

  <p>
    平素より当Botサービスをご利用いただき、誠にありがとうございます。<br>
    現在、下記のエラーコードに関連する重大な障害が発生しており、Botサービスの一部または全体において深刻な遅延・停止が確認されています。<br>
    調査の結果、障害の根本原因はデータベース書き込み処理のタイムアウトおよびAPIディスパッチ層における応答不能状態であり、現在も復旧の目処が立っておりません。
  </p>

  <h3>■ 停止期間</h3>
  <p>2025年4月14日（月） 15:00 〜 未定  
  （進捗があり次第、当ページまたは公式Discordサーバーにてお知らせします）</p>

  <h3>■ 対象サービス</h3>
  <ul>
    <li>Discord Botの全コマンド機能</li>
    <li>ユーザー情報の読み込みおよび書き込み機能</li>
    <li>外部サービスとのWebhook連携</li>
  </ul>

  <h3>■ 主な原因</h3>
  <p>
    クラスターノードEUW1-14における断続的なデータベースタイムアウトと、APIディスパッチ層における応答不能状態が発生し、復旧の自動処理が正常に作動しない状態です。<br>
    再試行処理が上限に達し、セーフティロックが作動したため、手動での復旧が必要な状況となっております。
  </p>

  <h3>■ クラスターノード情報</h3>
  <table>
    <tr>
      <th>ノードID</th>
      <td>EUW1-14</td>
    </tr>
    <tr>
      <th>クラスタ名</th>
      <td>Cluster-EUW1 (欧州西部リージョン)</td>
    </tr>
    <tr>
      <th>稼働状況</th>
      <td>部分障害 - 応答遅延および処理詰まり</td>
    </tr>
    <tr>
      <th>通信状況</th>
      <td>平均Ping: 182ms / タイムアウト頻発</td>
    </tr>
    <tr>
      <th>最終正常応答</th>
      <td>2025-04-14 12:51:08 JST</td>
    </tr>
    <tr>
      <th>メモリ使用率</th>
      <td>92.4%（閾値超過）</td>
    </tr>
    <tr>
      <th>CPU使用率</th>
      <td>85.3%（平均過負荷状態）</td>
    </tr>
    <tr>
      <th>データベース接続</th>
      <td>Write Timeout: 約38% / Read Timeout: 約12%</td>
    </tr>
    <tr>
      <th>障害コード</th>
      <td>NODE.EUW1-14.FAILSAFE_TRIGGERED.CODE#503-TIMEOUT-STACK</td>
    </tr>
  </table>

  <h3>■ 今後の対応</h3>
  <p>
    本障害によりご迷惑をおかけしておりますことを深くお詫び申し上げます。現在、再構築・安定化のための修正対応を最優先で進めております。<br>
    サービス再開時には、再発防止策を講じた上で、安全にご利用いただける環境を整えてまいります。<br>
    再開予定については、進捗次第お知らせいたします。
  </p>

  <p><strong>Discord Bot 運営チーム</strong></p>
</section>

    </div>

    <script>
        // ステータスを更新する関数
        function updateStatus() {
            const statusDisplay = document.getElementById('status-display'); // ステータス表示部分を取得

            // ステータスを赤文字で「アップデートを実行中」に設定
            statusDisplay.textContent = "ステータス: アップデートを実行中";
            statusDisplay.className = "updating"; // クラスを設定して赤文字に変更
        }
    </script>

</body>
</html>
